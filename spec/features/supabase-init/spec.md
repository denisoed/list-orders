# Supabase Initialization

**Specification:** Нужно добавить и настроить Supabase в проект на стороне сервера. Добавить env example и тд. Настроить минимально.

## User Stories

1. **Как разработчик**, я хочу иметь настроенный Supabase клиент на сервере, чтобы использовать его для работы с базой данных и другими сервисами Supabase в серверных API endpoints.

2. **Как разработчик**, я хочу иметь файл с примером переменных окружения (.env.example), чтобы быстро настроить проект на новой машине или в новом окружении без необходимости искать документацию.

3. **Как разработчик**, я хочу иметь минимальную конфигурацию Supabase, чтобы начать использовать его в проекте без избыточной сложности.

## Main scenarios and rules

### Основные сценарии

1. **Инициализация Supabase клиента на сервере**
   - Клиент создается один раз при старте серверной части приложения
   - Клиент доступен в серверных API handlers через Nuxt runtime utilities
   - Клиент использует переменные окружения для подключения к Supabase

2. **Конфигурация через переменные окружения**
   - URL Supabase проекта
   - Service Role Key (для серверных операций с полными правами)
   - Опционально: анонимный ключ для клиентской стороны (если будет использоваться)

3. **Минимальная настройка**
   - Только базовые переменные для подключения
   - Без дополнительных модулей или расширений
   - Поддержка только серверной части

### Правила

- Все секретные данные хранятся только в переменных окружениях
- Файл .env.example содержит примеры значений без реальных ключей
- Файл .env должен быть в .gitignore (проверка наличия)
- Клиент Supabase инициализируется только на сервере

### Ограничения и ошибки

- Отсутствие обязательных переменных окружения должно логироваться при старте
- Невалидные учетные данные должны обрабатываться с понятными сообщениями об ошибках

## Non-functional requirements

### Производительность

- Клиент Supabase создается один раз при старте, без пересоздания на каждый запрос
- Минимальное влияние на время старта приложения

### Безопасность

- Service Role Key не должен попадать в клиентский код
- Все секретные значения должны быть защищены через переменные окружения
- Файл .env.example не содержит реальных ключей

### Надежность

- При отсутствии переменных окружения приложение должно информировать разработчика, а не падать молча

### Простота

- Минимальная конфигурация без избыточных настроек
- Простая интеграция с существующей Nuxt структурой проекта

## Assumptions

1. Проект использует Supabase Cloud (не self-hosted)
2. Supabase проект уже создан, URL и ключи уже есть у разработчика
3. Настройка требуется только для серверной части приложения
4. TypeScript используется в проекте (уже присутствует)
5. Минимальная настройка означает только базовое подключение, без миграций, без схем и без дополнительных сервисов (Storage, Auth конфигурация и т.д.)

