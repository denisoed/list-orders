# Implementation Plan

**Plan:** Создать страницу `/projects/[projectId]/tasks` с динамической загрузкой задач проекта, визуальными элементами по макету, поддержкой фильтров/поиска и кнопок добавления задач. Обеспечить интеграцию с текущей навигацией и источником данных задач, адаптивную верстку и тёмную тему.

## Data sources / schemas

- Определить источник данных: существующий API/стор для проектов и задач. Проверить доступные эндпоинты (например, `/api/projects/:id` и `/api/projects/:id/tasks`).
- При отсутствии готового стора создать composable (например, `useProjectTasks`) с методами загрузки списка задач по `projectId`, локальным состоянием фильтра/поиска и кешированием.
- Обновить/описать структуру задачи: `id`, `title`, `assignee` (имя, аватар), `status`, `dueDate`, `priority`, `isOverdue`. Убедиться, что данные поддерживают статусы из макета.
- Предусмотреть обработку пустых данных и ошибок загрузки (placeholder/notification).

## Contracts and interfaces

- Роут: добавить динамический маршрут в `pages/projects/[id]/tasks.vue` (или аналогичный в Nuxt). Определить параметры маршрута и SEO-метаданные (title).
- Компонент списка задач принимает `project` и `tasks` (массив) и обеспечивает фильтрацию по статусу и поиску; интерфейсы задач описать через TypeScript.
- Компонент карточки задачи (`TaskCard.vue`) отображает данные и принимает пропы: `task`, `variant` для состояния, события (например, `onClick`).
- Кнопка добавления (в AppBar и FAB) триггерит событие `create-task` — убедиться, что интерфейс совместим с существующей логикой создания задач.
- Добавить событие для обновления фильтра (например, `status-filter-changed`), использовать перечисление статусов.

## Architecture / Components

- Добавить layout/хедер для страницы задач с кнопкой назад и названием проекта.
- Структура страницы: AppBar с кнопкой меню/названием/кнопкой «+», блок поиска (`TaskSearch`), блок фильтров (`TaskStatusChips`), список карточек (`TaskCardList`), пустое состояние (`TaskEmptyState`), FAB.
- Управление состоянием: внутри страницы или composable для хранения `searchQuery`, `activeStatus`, отфильтрованных задач. Использовать watch/computed для реактивного фильтра.
- Реализовать адаптивную верстку: Tailwind классы, контейнеры, скролл для фильтров. Проверить поддержку темной темы с `dark:`.
- Подключить данные проекта в `asyncData`/`useAsyncData` для SSR (если требуется). Обрабатывать состояния загрузки (`loading`, `error`).
- Интегрировать переход с главной страницы: карточка проекта использует `navigateTo('/projects/'+projectId+'/tasks')`.

## Risks

- Отсутствие API для задач проекта → нужна заглушка или дополнительная задача.
- Несоответствие дизайну из-за различий в текущей дизайн-системе → согласовать токены и шрифты.
- Производительность при большом количестве задач → оптимизировать фильтрацию (computed, мемоизация), возможно пагинация.
- Отсутствие модалки создания задачи → требуется уточнение у заказчика.

## Assumptions

- Главная страница уже имеет данные проектов с идентификатором для навигации.
- Тёмная тема в проекте реализована Tailwind классами, их достаточно расширить.
- Доступен Tailwind и компоненты Material Symbols (или можно подключить).
- Создание задачи реализуется через существующую точку входа; на данной странице только инициируем действие.
