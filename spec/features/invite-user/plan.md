# Implementation Plan

**Plan:** Реализовать страницу управления командой и интегрировать ссылку на неё в форму создания/редактирования проекта, учитывая отображение названия проекта и счётчика коллег.

## Data sources / schemas
- Актуализировать источник данных участников: определить API или composable для получения списка коллег по идентификатору проекта; при отсутствии бекенда подготовить временный mock со структурой { id, name, role, avatarUrl }.
- Добавить хранилище (pinia/composable) для списка участников и количества приглашённых; предусмотреть методы обновления счётчика при изменении состава.
- Обновить модель проекта, чтобы включать поле `membersCount`; синхронизировать его с данными страницы управления командой.

## Contracts and interfaces
- Определить маршрут `/projects/:id/team` (или аналогичный) в Nuxt с параметром `projectId` для страницы управления командой.
- В форме проекта добавить компонент ссылки приглашения, принимающий `projectName`, `membersCount`, `projectId` и событие перехода.
- Сформировать интерфейс данных для компонента списка участников (props: `members`, `onMoreClick`), и для поискового инпута (v-model).
- Описать функцию форматирования текста ссылки «Пригласить коллег (N)» с безопасной подстановкой названия (экранирование, ограничение длины).

## Architecture / Components
- Создать страницу `pages/projects/[id]/team.vue` с использованием UI из примера: шапка с кнопкой назад, поисковая строка, список карточек участников и кнопка добавления.
- Реализовать компоненты: `ProjectInviteLink` (отображение ссылки), `TeamMemberCard` (аватар, имя, роль, действие), `TeamSearch` (поиск и фильтр).
- Интегрировать ссылку на странице создания/редактирования проекта (вероятно `pages/projects/new.vue` и `pages/projects/[id]/edit.vue`) под полем названия; обеспечить реактивное обновление текста при вводе названия и при загрузке числа коллег.
- Подключить глобальные стили/токены Tailwind и классы, совместимые с тёмной/светлой темой; использовать существующие utility-классы вместо inline-стилей где возможно.
- Настроить логику фильтрации списка участников на клиенте через computed список на основе поисковой строки.

## Risks
- Недостаток API для получения участников может потребовать временного мок-сервиса и последующей доработки — нужно согласовать ранний доступ к данным.
- Возможны расхождения дизайна из-за ограничений текущих компонентов Tailwind; потребуется уточнить набор доступных utility классов.
- Поддержка тёмной темы может конфликтовать с текущими стилями приложения; нужно проверить переключение тем.
- Перенаправление после сохранения проекта может перезаписывать счётчик участников; важно сохранять состояние и актуализировать данные при повторном входе.

## Assumptions
- Маршруты и layout приложения позволяют вложенную страницу `projects/[id]/team` без дополнительных изменений роутинга.
- Механизм авторизации и проверка прав уже реализованы на уровне layout или middleware.
- Существуют компоненты базового ввода/кнопок, которые можно переиспользовать; если нет — согласовать создание.
