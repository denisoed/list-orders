# Implementation Plan

**Plan:** Реализовать динамическую страницу публичного профиля пользователя с использованием общих компонентов приложения, обеспечив загрузку данных профиля, отображение контактов и задач, поддержку фильтрации и адаптивной вёрстки.

## Data sources / schemas

- Использовать существующий API/endpoint профилей коллег (например, `GET /api/colleagues/:id`) для получения основной информации: ФИО, должность, фото, контакты, текущие задачи, история задач.
- При необходимости расширить типы в `types`/`interfaces` проекта (композируемые типы для контактов и задач) с учётом возможных пустых значений и локализаций статусов.
- Реализовать клиентский кеш (Pinia/composable `useAsyncData`) для предотвращения повторных запросов при навигации назад и вперёд.
- Подготовить заглушечные данные и контракт для e2e/компонентных тестов с фикстурами задач разных статусов.

## Contracts and interfaces

- Динамический маршрут `pages/colleagues/[id].vue` (или эквивалентный) принимает параметр `id`, использует composable для запроса данных профиля.
- Компоненты: `ProfileHeader`, `ProfileContacts`, `ProfileTasks`, `ProfileTaskHistory` — принимают строго типизированные пропсы и поддерживают светлую/тёмную тему.
- Фильтры задач оформлены как chips/кнопки, генерируют событие `update:modelValue` для переключения текущего статуса, используют общий компонент фильтров если он есть.
- При ошибке загрузки возвращается общий компонент `ErrorState` с возможностью повторной попытки; при пустых данных используется `EmptyState`.
- Все текстовые константы выносятся в локализацию, если система уже поддерживает i18n.

## Architecture / Components

- Страница использует базовый layout коллег (`ColleaguesLayout` или общий `default`), включающий хлебные крошки/кнопку возврата.
- На уровне страницы: получение данных через `useAsyncData` или серверный `useFetch` с SSR; данные прокидываются в дочерние компоненты.
- Компонент заголовка отображает аватар (с fallback буквами), имя, роль, статус и кнопку действий (например, "Написать"), используя существующие стили.
- Контактный блок рендерит список доступных каналов через flex/grid, скрывая отсутствующие поля и обеспечивая копирование/ссылки `tel:`, `mailto:`, `tg:`.
- Секция задач: вкладки фильтров, список карточек со статусными индикаторами и датами. История задач может быть отдельным списком или аккордеоном.
- Реализовать SkeletonLoader или shimmer для ожидания данных с переиспользованием глобального компонента.
- Обеспечить адаптивность: на мобильных — вертикальные стеки, на десктопе — двухколоночная компоновка при достаточной ширине.

## Risks

- Возможный дефицит данных в API (отсутствие контактов/истории) — предусмотреть обработку пустых состояний и уточнить требования к backend.
- Нагрузка на API при многократных переходах — требуется кеширование и, возможно, серверная предзагрузка данных.
- Несоответствие дизайна глобальным стилям — необходимо проверить токены цветов/шрифтов и переиспользовать существующие utility-классы.
- Увеличение размера бандла за счёт новых компонентов — дробить на лениво загружаемые блоки при необходимости.

## Assumptions

- Существующие компоненты списка задач можно расширить без значительных изменений API.
- Пользователи всегда авторизованы перед переходом на страницу профиля, и защита маршрутов уже реализована в приложении.
- Для отображения контактов согласовано, какие типы каналов обязательны и как они мапятся на иконки.
- Дополнительные интеграции (например, кнопка "Редактировать") пока не требуются.
