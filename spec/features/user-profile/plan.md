# Implementation Plan

**Plan:** Реализовать динамическую страницу `/colleagues/[id]` для публичного профиля коллеги, обеспечить передачу идентификатора из списка команды, подготовить источник данных и компоненты для отображения контактов, активных задач и истории, сохранив фирменные стили приложения.

## Data sources / schemas

- Создать новый модуль `data/teamMembers.ts` (или расширить текущий `data/team.ts`, если допустимо) с полной моделью `TeamMemberProfile`, содержащей поля: `id`, `name`, `role`, `avatarUrl`, `bio`/`department`, `contacts` (telegram, phone, email), `tasks` (массив с `id`, `title`, `status`, `dueDate`), `history` (массив завершённых задач). Определить перечисление статусов (`in-progress`, `completed`, `overdue`).
- Добавить вспомогательные функции/композабл `useTeamMemberProfile(id)` для получения данных по идентификатору, с мемоизацией и обработкой отсутствующих записей. Возвращать состояния: `profile`, `isLoading`, `error`.
- Обеспечить совместимость с существующим `useProjectTeam` — данные в списке коллег должны ссылаться на ту же `id`. При необходимости расширить `ProjectTeamMember` дополнительными полями или добавить маппинг `id -> profile`.

## Contracts and interfaces

- Определить интерфейс `TaskItem` с полями `title`, `status`, `dueDate`, `description?`. Для истории добавить `completedAt`.
- Фильтры статусов реализовать как массив объектов `{ key, label }`, где `key` соответствует перечислению статусов. Контролировать активный фильтр через состояние компонента.
- Навигация: карточка `TeamMemberCard` получает обработчик `@click` и `aria-label` для открытия `/colleagues/{id}` (через `router.push`). На странице профиля реализовать кнопку «Назад», использующую `router.back()` и fallback на `/projects/{projectId}/team` (если проект передал `from` в query).
- Контактные элементы используют схемы ссылок: `href="https://t.me/${username}"`, `href="tel:${phone}"`, `href="mailto:${email}"`. Добавить атрибуты `rel="noopener noreferrer"` для внешних ссылок.

## Architecture / Components

- Структура страницы: Nuxt dynamic route `pages/colleagues/[id].vue`. Использовать `useRoute` для получения `id`, `useHead` для метаданных и тематического оформления, `onMounted`/async setup для загрузки профиля.
- Верхний блок: `AppBar`/`header` с кнопкой назад, заголовком «Профиль коллеги», опциональной кнопкой «Написать» (если нужно). Применить существующие utility-классы (`bg-background-light`, `dark:bg-background-dark`, `font-display`).
- Основной контент: компонент `ProfileSummary` (локальный или общий) с аватаром (через background-image или `<img>`), именем, ролью, дополнительным текстом. Ниже — карточка «Контакты» (flex-столбец), секция «Назначенные задачи» с horizontal pills фильтров и списком карточек, секция «История задач» с пониженной непрозрачностью.
- Для задач реализовать вычисляемые списки по активному фильтру. Отображать индикаторы статуса (точка соответствующего цвета). При отсутствии данных показывать пустой state-компонент, используя существующие стили (`bg-white dark:bg-[#1C2431]`, текстовые цвета `text-gray-500`/`dark:text-[#9da6b9]`).
- Предусмотреть состояние загрузки (skeleton блоки или спиннер) и ошибку (карточка с сообщением и кнопкой возврата).

## Risks

- Несоответствие идентификаторов между текущим списком команды и новым профилем может привести к ошибкам 404 — нужно синхронизировать источники данных.
- Увеличение размера мок-данных (контакты, история задач) может затруднить поддержку — стоит структурировать данные и вынести в отдельный файл.
- Возможны расхождения в палитре, если примерные цвета из макета не совпадают с палитрой проекта — необходимо проверять существующие переменные.
- При отсутствии серверного API логика загрузки сведена к mock-данным; потребуется последующая адаптация, которую нужно предусмотреть в архитектуре (добавить уровень абстракции через composable).

## Assumptions

- Список коллег будет допилен, чтобы передавать query `from` с путём возврата; иначе кнопка «Назад» должна вести на список команды по умолчанию.
- Пользователь всегда имеет хотя бы один контактный канал; если нет — выводить placeholder «нет данных».
- Состояние загрузки можно эмулировать таймаутом или сразу отдавать данные — уточнить, нужен ли искусственный loader.
- Статусы задач ограничиваются тремя основными значениями; дополнительная детализация не требуется.
- Дизайн примера служит ориентиром по структуре, но все цвета и отступы берём из текущего проекта.
