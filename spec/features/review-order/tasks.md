# Tasks

**Context:** Добавить новый маршрут «Отправка на проверку», куда перенаправляется пользователь после клика «Отметить выполненным», и реализовать форму загрузки фотографий и комментария с отправкой данных для смены статуса заказа.

## Main directions
### Фронтенд
- [x] Добавить новый маршрут/страницу для отправки заказа на проверку с использованием существующего роутера и макетов.
- [x] Реализовать форму с полями загрузки фото (поддержка нескольких файлов) и обязательным текстовым комментарием, валидацией и предпросмотром изображений.
- [x] Обновить кнопку «Отметить выполненным» на странице деталей, чтобы она перенаправляла на новый маршрут и блокировалась при неподходящих статусах.
- [x] Настроить отправку multipart-запроса через существующий API-клиент, обработку состояний загрузки, ошибок и успешного завершения (уведомление/редирект).

### Бэкенд / API
- [x] Проверить и при необходимости расширить эндпоинт смены статуса заказа, чтобы принимать комментарий и массив изображений, сохраняя данные и возвращая статус `submitted_for_review`.
- [x] Добавить валидацию по размеру/формату изображений и ограничение количества файлов; обеспечить хранение ссылок на загруженные фото.
- [x] Обновить документацию API по новому запросу и возможным кодам ошибок.

## Supporting tasks
- [x] Документация: обновить пользовательскую инструкцию и internal wiki по новому процессу отправки на проверку.
- [x] Observability: уточнить/добавить логи и метрики по факту отправки на проверку (успешные, ошибочные загрузки).
- [x] Code review and PR: подготовить изменения для ревью, описать ключевые сценарии и скриншоты новой страницы.

## Definition of Done
- [x] Все задачи выполнены и протестированы (включая валидации формы и обработку ошибок).
- [x] Релевантные unit/e2e/integration тесты проходят успешно, добавлены новые тесты для критичных сценариев.
- [x] Документация и операционные инструкции обновлены.
- [x] `/spec/core/verify.md` выполнен после завершения всех задач для финальной проверки списка.
