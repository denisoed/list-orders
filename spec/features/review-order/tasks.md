# Tasks

**Context:** Добавить новый маршрут «Отправка на проверку», куда перенаправляется пользователь после клика «Отметить выполненным», и реализовать форму загрузки фотографий и комментария с отправкой данных для смены статуса заказа.

## Main directions
### Фронтенд
- [ ] Добавить новый маршрут/страницу для отправки заказа на проверку с использованием существующего роутера и макетов.
- [ ] Реализовать форму с полями загрузки фото (поддержка нескольких файлов) и обязательным текстовым комментарием, валидацией и предпросмотром изображений.
- [ ] Обновить кнопку «Отметить выполненным» на странице деталей, чтобы она перенаправляла на новый маршрут и блокировалась при неподходящих статусах.
- [ ] Настроить отправку multipart-запроса через существующий API-клиент, обработку состояний загрузки, ошибок и успешного завершения (уведомление/редирект).

### Бэкенд / API
- [ ] Проверить и при необходимости расширить эндпоинт смены статуса заказа, чтобы принимать комментарий и массив изображений, сохраняя данные и возвращая статус `submitted_for_review`.
- [ ] Добавить валидацию по размеру/формату изображений и ограничение количества файлов; обеспечить хранение ссылок на загруженные фото.
- [ ] Обновить документацию API по новому запросу и возможным кодам ошибок.

## Supporting tasks
- [ ] Документация: обновить пользовательскую инструкцию и internal wiki по новому процессу отправки на проверку.
- [ ] Observability: уточнить/добавить логи и метрики по факту отправки на проверку (успешные, ошибочные загрузки).
- [ ] Code review and PR: подготовить изменения для ревью, описать ключевые сценарии и скриншоты новой страницы.

## Definition of Done
- [ ] Все задачи выполнены и протестированы (включая валидации формы и обработку ошибок).
- [ ] Релевантные unit/e2e/integration тесты проходят успешно, добавлены новые тесты для критичных сценариев.
- [ ] Документация и операционные инструкции обновлены.
- [ ] `/spec/core/verify.md` выполнен после завершения всех задач для финальной проверки списка.
